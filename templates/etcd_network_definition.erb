{
    "Network": "<%= scope['flannel::etcd_key::network'] %>"<% -%>
<% if @subnetlen then -%>,
    "SubnetLen": <%= scope['flannel::etcd_key::subnetlen'] -%>
<% end -%>
<% if @subnetmin then -%>,
    "SubnetMin": "<%= scope['flannel::etcd_key::subnetmin'] %>"<% -%>
<% end -%>
<% if @subnetmax then -%>,
    "SubnetMax": "<%= scope['flannel::etcd_key::subnetmax'] %>"<% -%>
<% end -%>
<% if @backend_type && @backend_port then -%>,
    "Backend": {
        "Type": "<%= scope['flannel::etcd_key::backend_type'] %>"<% -%>
<% if @backend_type == 'udp' then -%>,
        "Port": <%= scope['flannel::etcd_key::backend_port'] -%>
<% elsif @backend_type == 'vxlan' -%>,
        "VNI": <%= scope['flannel::etcd_key::backend_port'] -%>
<% elsif @backend_type == 'aws-vpc' -%>,
        "RouteTableID": <%= scope['flannel::etcd_key::backend_port'] -%>
<% end -%>

    }
<% end -%>
}
